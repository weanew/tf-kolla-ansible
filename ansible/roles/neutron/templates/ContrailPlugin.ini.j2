{% if neutron_plugin_agent == 'opencontrail' %}
[APISERVER]
api_server_port = {{ opencontrail_api_server_port }}
{% if enable_haproxy|bool and kolla_enable_tls_external|bool %}
api_server_ip = {{ kolla_external_vip_address }}
use_ssl = True
protocol = https
cafile = {{ openstack_cacert }}
{% if opencontrail_api_insecure|bool %}
insecure = True
{% endif %}
{% else %}
api_server_ip = {{ opencontrail_api_server_ip }}
{% endif %}
multi_tenancy = True
contrail_extensions = ipam:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_ipam.NeutronPluginContrailIpam,policy:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_policy.NeutronPluginContrailPolicy,route-table:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_vpc.NeutronPluginContrailVpc,contrail:None,service-interface:None,vf-binding:None

[COLLECTOR]
analytics_api_ip = {{ opencontrail_collector_ip.split(' ')[0] }}
analytics_api_port = {{ opencontrail_collector_port }}

[keystone_authtoken]
auth_host = {{ keystone_internal_fqdn }}
auth_port = {{ keystone_admin_port }}
auth_protocol = {{ admin_protocol }}
admin_user = {{ neutron_keystone_user }}
admin_password = {{ neutron_keystone_password }}
admin_tenant_name = service
insecure = True
region_name = {{ openstack_region_name }}
cafile = {{ openstack_cacert }}
{% endif %}
